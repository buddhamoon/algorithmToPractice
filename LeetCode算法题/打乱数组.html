<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>打乱数组</title>
</head>
<body>
    <!--
        给你一个整数数组 nums ，设计算法来打乱一个没有重复元素的数组。

        实现 Solution class:
        Solution(int[] nums) 使用整数数组 nums 初始化对象
        int[] reset() 重设数组到它的初始状态并返回
        int[] shuffle() 返回数组随机打乱后的结果
         

        示例：
        输入
        ["Solution", "shuffle", "reset", "shuffle"]
        [[[1, 2, 3]], [], [], []]
        输出
        [null, [3, 1, 2], [1, 2, 3], [1, 3, 2]]

        解释
        Solution solution = new Solution([1, 2, 3]);
        solution.shuffle();    // 打乱数组 [1,2,3] 并返回结果。任何 [1,2,3]的排列返回的概率应该相同。例如，返回 [3, 1, 2]
        solution.reset();      // 重设数组到它的初始状态 [1, 2, 3] 。返回 [1, 2, 3]
        solution.shuffle();    // 随机返回数组 [1, 2, 3] 打乱后的结果。例如，返回 [1, 3, 2]
         

        提示：
        1 <= nums.length <= 200
        -106 <= nums[i] <= 106
        nums 中的所有元素都是 唯一的
        最多可以调用 5 * 104 次 reset 和 shuffle

    -->

    <script>
        /**
        * @param {number[]} nums
        * 执行用时：308 ms, 在所有 JavaScript 提交中击败了5.59%的用户
        * 内存消耗：55.2 MB, 在所有 JavaScript 提交中击败了5.05%的用户
        * @Think: 性能其实并不是很好，只能说勉强过关所有测试用例，因为考虑到需要竟可能的实现随机这个概念，所以调用 Math，与数组操作。
        * 
        */
        var Solution = function(nums) {
            this.initArr = [...nums];
        };

        /**
        * @return {number[]}
        */
        Solution.prototype.reset = function() {
            return this.initArr;
        };

        /**
        * @return {number[]}
        */
        Solution.prototype.shuffle = function() {
            const afterArr = [...this.initArr];
            const arr = [];
            for ( let i = 0; i < afterArr.length; i++ ) {
                const value = Math.floor(Math.random() * afterArr.length);
                arr.push(afterArr.splice(value,1))[0];
                i--;
            }
            return arr;
        };

        /**
        * Your Solution object will be instantiated and called as such:
        * var obj = new Solution(nums)
        * var param_1 = obj.reset()
        * var param_2 = obj.shuffle()
        */
    </script>
</body>
</html>