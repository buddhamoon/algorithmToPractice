<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>有序数组中出现次数超过25%的元素</title>
</head>
<body>
    <!--

        给你一个非递减的 有序 整数数组，已知这个数组中恰好有一个整数，它的出现次数超过数组元素总数的 25%。
        请你找到并返回这个整数

        示例：
        输入：arr = [1,2,2,6,6,6,6,7,10]
        输出：6
         

        提示：
        1 <= arr.length <= 10^4
        0 <= arr[i] <= 10^5

    -->
    <script>
        /**
        * @param {number[]} arr
        * @return {number}
        * 执行用时：88 ms, 在所有 JavaScript 提交中击败了 44.52% 的用户。
        * 内存消耗：45 MB, 在所有 JavaScript 提交中击败了 7.09% 的用户。
        */
        const test_01 = [1,2,3,3];
        var findSpecialInteger = function(arr) {
            const len = arr.length, hashArr = {};
            const thatNum = len * 0.25;
            for ( let i = 0; i < len; i++ ){
                if ( arr[i] in hashArr ){
                    hashArr[arr[i]]++;
                } else {
                    hashArr[arr[i]] = 1;
                }
            }
            console.info({thatNum,hashArr});
            for( let i in hashArr ){
                if(hashArr[i] > thatNum ) return i;
            }
        
        };
        findSpecialInteger(test_01)

        /**
        * @param {number[]} arr
        * @return {number}
        * 第二种实现方式，性能有明显的提升。
        * 执行用时：68 ms, 在所有 JavaScript 提交中击败了93.55%的用户
        * 内存消耗：39.5 MB, 在所有 JavaScript 提交中击败了82.58%的用户
        */
        var findSpecialInteger = function(arr) {
            const len = arr.length;
            if( len === 1 ) return arr[0];
            const thatNum = len * 0.25;
            let num = 1;
            for ( let i = 0; i < len; i++ ){
                if (arr[i] === arr[i+1]){
                    num++;
                    if( num > thatNum ) return arr[i];
                } else { num = 1 };
            }
        };
    </script>
</body>
</html>