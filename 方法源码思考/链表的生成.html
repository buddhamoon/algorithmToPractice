<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>链表的生成</title>
</head>
<body>
    
    <!--
        链表的生成

        场景说明：
        在链表的数据结构中常常会遇到一些场景的方法需求。
        1、生成列表节点。
        2、通过数组值，来自动生成链表的结构
            2.1 情况一 ；在生成链表时，有一个比较难处理的是第一个节点。


    -->

    <script>
        // 生成指定的Node链表节点
        // 最为常见的一种链表节点生成函数
        function NodeList ( val, next ) {
            this.val = val === undefined ? val : 0;
            this.next = next === undefined ? next : null;
        }

        // 将一组链表，遍历成为一个数组值
        const testArr = [];
        function iterativeNode ( node, arr ) {
            if (!node) return arr;
            arr.push(node.val);
            iterativeNode( node.next, arr);
        }
        // 调用：iterativeNode( node, testArr);

        // 当我们给出一组数组，使用一个函数将该数组中的值生成为链表结构
        const testArr_one = [1,2,3,4,5,6,7];
        function createNode ( node, arr ) {
            if (arr.length === 0) return;
            let nowNode;
            if ( !node ) node = new NodeList(arr[0]);
            node.next = arr[1] ? new NodeList(arr[1]) : null;
            arr.splice(0,1);
            console.info(arr)
            
            createNode( node.next, arr);
            return node;
        }
        const newNode = createNode( null, testArr_one);
        console.info(newNode)

        // 引用了外部变量

        function ListNode(val, next) {
            this.val = (val===undefined ? 0 : val)
            this.next = (next===undefined ? null : next)
          }
  
          const test = {
              one: { val:1, next: null },
              two: { val:1, next: { val:1, next: { val:2, next: null } } }
          }
  
          var deleteDuplicates = function(head) {
              if (!head) return head;
              const nowArr = recursionNode( head, [] );
              const afterArr = [...new Set(nowArr)];
              return createNode( afterArr, 0, new ListNode(afterArr[0]) );
          };
  
          /**
          * @title 遍历链表为数组
          * @param { object } node 链表对象递归承袭链表对象
          * @param { array } arr 用于返回链表遍历后的数组结果
          */
          var recursionNode = function ( node, arr ) {
              if ( !node ) return arr;
              arr.push(node['val']);
              return recursionNode( node['next'], arr );
          };
          
          /**
          * @title 使用数组创建一个链表
          * @param { array } arr 用于创建链表的数组
          * @param { number } 递增数，用语判断跳出
          * @param { object } 链表对象递归承袭链表对象
          */
          var createNode = function ( arr, num, node ) {
              if ( num >= arr.length - 1 || !node ) return node;
              num++;
              node['next'] = new ListNode(arr[num]);
              createNode( arr, num, node['next']);
              return node
          }

    </script>
</body>
</html>