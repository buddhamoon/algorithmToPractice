<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组矩阵解析函数</title>
</head>
<body>
    
    <!--
        需求：
            当我们输入一段数组矩阵，如 9 * 9 的矩阵，如何将其分解为多个 3 * 3 的矩阵 ？
        感悟：
            这道题在开发过程中遇到一些难点，最终遵循了当问题过于复杂时，要耐心的将问题拆解为简单到可以解决的问题后，解决简单问题
            然后组装简单问题的解决方案，以实现困难问题的解决。
    -->
    <script>
        // 实例数据
        const arr = [
                        [".",".",".",".","5",".",".","1","."],
                        [".","4",".","3",".",".",".",".","."],
                        [".",".",".",".",".","3",".",".","1"],
                        ["8",".",".",".",".",".",".","2","."],
                        [".",".","2",".","7",".",".",".","."],
                        [".","1","5",".",".",".",".",".","."],
                        [".",".",".",".",".","2",".",".","."],
                        [".","2",".","9",".",".",".",".","."],
                        [".",".","4",".",".",".",".",".","."]
                    ];

        console.info(arr)
        /**
        * @title 矩阵拆分解析函数
        */
        function matrixAnalysis (matrix) {
            const len = matrix.length;
            const qtNum = Math.sqrt(len);
            let afterArr = [];
            let nowArr = [];
            for ( let i = 0; i < qtNum; i++ ) {
                nowArr = [];
                for ( let x = 0; x < qtNum; x++ ) {
                    nowArr.push([]);
                }
                for ( let x = 0; x < qtNum; x++ ) {
                    const valueArr = splitArrElement(matrix[(i*qtNum)+x]);
                    valueArr.forEach( (item,index) => { nowArr[index].push(...item)});
                }
                afterArr.push(...nowArr);
            }
           return afterArr;
        }

        console.info(matrixAnalysis(arr))

        /**
         * 需求拆分 1 ：将某个数组元素，等分成为 N 份，每份都以数组表示。
         * @title 平方根等分数组函数
        */
        function splitArrElement ( arr ) {
            const qtNum = Math.sqrt(arr.length);
            const afterArr = [];
            for ( let i = 0; i < qtNum; i++ ){
                afterArr.push([]);
                for ( let a = 0; a < qtNum; a++ ){
                    afterArr[i].push( arr[ (i * qtNum) + a] );
                }
            }
            return afterArr;
        }
        const test_01 = [1,2,3,4,5,6,7,8,9];
        console.info(splitArrElement(test_01))
        
    </script>
</body>
</html>